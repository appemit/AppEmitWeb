<!DOCTYPE html>  <!--  manifest="/websocket.appcache"-->
<html >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title> AppEmit 中间件,可以嵌入可以嵌入各类程序，包括flash、office,cad等</title>  
	   <meta name="description" content=" AppEmit是应用程序（尤其是浏览器）与本地程序间互相通信的易扩展的轻量级中间件。可在各个程序之间通信。">
	<meta name="keywords" content=" Embed App,游戏,办公,websocket,SSL,RTSP,plugins,flash,mp4,flv,swf, m3u8,rtmp,mp3,aac">
    <script type="text/javascript">
    </script>
 
 
</head>
<body>


<div class="container">
 
				 <div>
				<input type="file" name="file" onchange="yasuo(this)" /> 
				<input type="file" name="jieya" onchange="jieya(this)" /> 
 
		</div>  
</div>
 <!-- 如果使用Gzip压缩解压数据，则需要引入-->
<script type="text/javascript" src="https://cdn.bootcss.com/pako/1.0.11/pako.min.js"></script>   

 
<script type="text/javascript">
   
 
	 
	
/*****压缩*****/
 
 
 function yasuo(source) {
			var file = source.files[0];
			if(window.FileReader) {
				var fr = new FileReader();
			    fr.onloadend = function() {
                     var inputa = pako.deflateRaw(this.result ); 
					 
					 saveShareContent(inputa,"ffmpeg-core.wasmdef")
					  console.log(11)
                  }
				//fr.readAsBinaryString(file);
				fr.readAsArrayBuffer(file);
				
			}
		}
 
  function jieya(source) {
			var file = source.files[0];
			if(window.FileReader) {
				var fr = new FileReader();
			    fr.onloadend = function() {
                    // var inputa = pako.inflateRaw(this.result ); 
					 console.log(this.result)
					  
                  }
				//fr.readAsBinaryString(file);
				fr.readAsArrayBuffer(file);
				
			}
		}
 
 
var input2  = pako.deflateRaw([49,50],{/*input为字符串*/
    to:'string',
    level:6,/*0表示不压缩，1表示压缩时间最快，压缩率最小；9表示压缩率最大，时间最长；默认6*/
});
var input = pako.deflateRaw([49,50] ); 


/*****解压*****/
output= pako.inflateRaw(input);/*结果:[49,50]*/
 
function saveShareContent (content, fileName) {
    let downLink = document.createElement('a')
    downLink.download = fileName
    //字符内容转换为blod地址
    let blob = new Blob([content])
    downLink.href = URL.createObjectURL(blob)
    // 链接插入到页面
    document.body.appendChild(downLink)
    downLink.click()
    // 移除下载链接
    document.body.removeChild(downLink)
}	
 
</script>
</body>

 

</html>